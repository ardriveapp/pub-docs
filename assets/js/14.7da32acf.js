(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{288:function(e,t,a){"use strict";a.r(t);var i=a(14),n=Object(i.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"file-write-operations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#file-write-operations"}},[e._v("#")]),e._v(" File Write Operations")]),e._v(" "),t("h2",{attrs:{id:"move-file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#move-file"}},[e._v("#")]),e._v(" Move File")]),e._v(" "),t("p",[e._v("Files can be moved from one folder to another within the same Drive.")]),e._v(" "),t("ul",[t("li",[e._v("A new file metadata transaction is created when a user wants to move a file into a different folder.")]),e._v(" "),t("li",[e._v("The new file metadata transaction copies all of the file’s old metadata values, but the file’s "),t("code",[e._v("Parent-Folder-Id")]),e._v(" must be updated to the "),t("code",[e._v("Folder-Id")]),e._v(" of the folder is was just moved to.\n"),t("ul",[t("li",[e._v("For private files, a new "),t("code",[e._v("Cipher-IV")]),e._v(" is generated for this new metadata transaction.")])])]),e._v(" "),t("li",[e._v("File’s must not be allowed to be moved into a folder if a file exists in that folder with the same file name.")])]),e._v(" "),t("h2",{attrs:{id:"rename-file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rename-file"}},[e._v("#")]),e._v(" Rename File")]),e._v(" "),t("p",[e._v("Files can be renamed from one name to another.")]),e._v(" "),t("ul",[t("li",[e._v("A new file metadata transaction is created when a user wants to rename an existing file.")]),e._v(" "),t("li",[e._v("The new file metadata transaction reuses the existing file’s "),t("code",[e._v("File-Id")]),e._v(" and copies all of it’s old metadata values, but the file’s "),t("code",[e._v("name")]),e._v(" field in its Data JSON must be updated to the new file name and extension.\n"),t("ul",[t("li",[e._v("For private files, a new "),t("code",[e._v("Cipher-IV")]),e._v(" is generated for this new metadata transaction.")])])]),e._v(" "),t("li",[e._v("File’s must not be allowed to be renamed to the name of another file with that same name in that same folder.")])]),e._v(" "),t("h2",{attrs:{id:"update-file-version"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#update-file-version"}},[e._v("#")]),e._v(" Update File Version")]),e._v(" "),t("p",[e._v("When a user adds a new file to a folder, and there is a file in that folder with the same name, then a new file version is created.")]),e._v(" "),t("ul",[t("li",[e._v("A new file version uses the same "),t("code",[e._v("File-Id")]),e._v(" of the file with the matching name and same "),t("code",[e._v("Parent-Folder-Id")]),e._v(".")]),e._v(" "),t("li",[e._v("The file upload process is followed and new File Metadata and Data transactions are created.")]),e._v(" "),t("li",[e._v("However a new UUID is not generated and the same "),t("code",[e._v("File-Id")]),e._v(" and associated metadata is used for this new version")]),e._v(" "),t("li",[e._v("The new File Metadata Transaction points to the new Data transaction.\n"),t("ul",[t("li",[e._v("Since the "),t("code",[e._v("File-Id")]),e._v(" remains the same, the File Keys for private files can decrypt all versions of that file.")]),e._v(" "),t("li",[e._v("For private files, new "),t("code",[e._v("Cipher-IV")]),e._v("s are generated for this new metadata and data transaction")])])]),e._v(" "),t("li",[e._v("ArFS clients can now iterate through the state of this file, since it will have multiple versions using the same "),t("code",[e._v("File-Id")]),e._v(".")])])])}),[],!1,null,null,null);t.default=n.exports}}]);